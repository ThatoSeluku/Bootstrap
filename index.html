<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Candidate Interview Evaluator</title>
  <link rel="shortcut icon" href="img/favicon.ico">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
    <div class="container-fluid">
      <span class="navbar-brand font-weight-semibold">Candidate Interview Evaluator</span>
      <div class="ml-auto d-flex align-items-center">
        <span class="badge badge-pill badge-light text-primary mr-3" id="candidateStatusBadge">No candidate loaded</span>
        <button class="btn btn-outline-light btn-sm" data-target="weights">Stage Weights</button>
      </div>
    </div>
  </nav>

  <main class="container-fluid py-4">
    <div class="row">
      <aside class="col-lg-3 mb-4">
        <div class="card border-0 shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title">Workflow</h5>
            <p class="text-muted small mb-3">Jump between stages once details are saved.</p>
            <div class="list-group stage-navigation" id="stageNavigation">
              <button class="list-group-item list-group-item-action active" data-target="candidate">1. Candidate Details</button>
              <button class="list-group-item list-group-item-action" data-target="psychometric">2. Psychometric Stage <span class="status-indicator" id="status-psychometric"></span></button>
              <button class="list-group-item list-group-item-action" data-target="technical">3. Technical Stage <span class="status-indicator" id="status-technical"></span></button>
              <button class="list-group-item list-group-item-action" data-target="final">4. Final Interview <span class="status-indicator" id="status-final"></span></button>
              <button class="list-group-item list-group-item-action" data-target="confidence">5. Confidence Score</button>
            </div>
          </div>
        </div>

        <div class="card border-0 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Stage Weights</h5>
            <ul class="list-unstyled mb-0" id="weightsPreview">
              <li>Psychometric: <span data-weight="psychometric">20%</span></li>
              <li>Technical: <span data-weight="technical">40%</span></li>
              <li>Final Interview: <span data-weight="final">40%</span></li>
            </ul>
          </div>
        </div>
      </aside>

      <section class="col-lg-9">
        <div id="globalAlert" class="alert alert-dismissible fade" role="alert">
          <span class="alert-message"></span>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="card border-0 shadow-sm stage-screen active" id="screen-candidate">
          <div class="card-body">
            <h4 class="card-title mb-3">Candidate Details</h4>
            <form id="candidateForm" novalidate>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="firstName">First Name</label>
                  <input type="text" class="form-control" id="firstName" required>
                </div>
                <div class="form-group col-md-6">
                  <label for="lastName">Last Name</label>
                  <input type="text" class="form-control" id="lastName" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="email">Email Address</label>
                  <input type="email" class="form-control" id="email" required>
                </div>
                <div class="form-group col-md-6">
                  <label for="phone">Phone Number</label>
                  <input type="tel" class="form-control" id="phone" required>
                </div>
              </div>
              <div class="text-right">
                <button type="submit" class="btn btn-primary">Save &amp; Start Psychometric Stage</button>
              </div>
            </form>
          </div>
        </div>

        <div class="card border-0 shadow-sm stage-screen" id="screen-psychometric">
          <div class="card-body">
            <header class="stage-header">
              <h4 class="card-title mb-0">Psychometric Evaluation</h4>
              <p class="text-muted mb-3">Assess behavioural traits and mindset.</p>
              <div class="candidate-summary" id="candidateSummaryPsychometric"></div>
            </header>
            <form id="psychometricForm" class="stage-form">
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Attention to Detail</span>
                  <select class="custom-select" data-criterion="attention" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="attention-comment"></textarea>
              </div>
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Emotional Intelligence</span>
                  <select class="custom-select" data-criterion="emotional" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="emotional-comment"></textarea>
              </div>
              <div class="stage-item mb-4">
                <div class="stage-item-header">
                  <span>Logic &amp; Reasoning</span>
                  <select class="custom-select" data-criterion="logic" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="logic-comment"></textarea>
              </div>
              <div class="text-right">
                <button type="submit" class="btn btn-primary">Save &amp; Continue</button>
              </div>
            </form>
          </div>
        </div>

        <div class="card border-0 shadow-sm stage-screen" id="screen-technical">
          <div class="card-body">
            <header class="stage-header">
              <h4 class="card-title mb-0">Technical Evaluation</h4>
              <p class="text-muted mb-3">Evaluate craft excellence and communication.</p>
              <div class="candidate-summary" id="candidateSummaryTechnical"></div>
            </header>
            <form id="technicalForm" class="stage-form">
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Domain Knowledge</span>
                  <select class="custom-select" data-criterion="domain" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="domain-comment"></textarea>
              </div>
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Coding &amp; Systems Thinking</span>
                  <select class="custom-select" data-criterion="coding" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="coding-comment"></textarea>
              </div>
              <div class="stage-item mb-4">
                <div class="stage-item-header">
                  <span>Communication of Technical Ideas</span>
                  <select class="custom-select" data-criterion="communication" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="communication-comment"></textarea>
              </div>
              <div class="text-right">
                <button type="submit" class="btn btn-primary">Save &amp; Continue</button>
              </div>
            </form>
          </div>
        </div>

        <div class="card border-0 shadow-sm stage-screen" id="screen-final">
          <div class="card-body">
            <header class="stage-header">
              <h4 class="card-title mb-0">Final Interview</h4>
              <p class="text-muted mb-3">Capture leadership signals and logistics.</p>
              <div class="candidate-summary" id="candidateSummaryFinal"></div>
            </header>
            <form id="finalForm" class="stage-form">
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Culture Fit</span>
                  <select class="custom-select" data-criterion="culture" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="culture-comment"></textarea>
              </div>
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Strategic Thinking</span>
                  <select class="custom-select" data-criterion="strategic" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="strategic-comment"></textarea>
              </div>
              <div class="stage-item">
                <div class="stage-item-header">
                  <span>Leadership &amp; Ownership</span>
                  <select class="custom-select" data-criterion="leadership" required>
                    <option value="">Score</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
                <textarea class="form-control" rows="2" placeholder="Optional comments" name="leadership-comment"></textarea>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="salaryRange">Expected Salary Range</label>
                  <input type="text" class="form-control" id="salaryRange" placeholder="e.g., $90k - $105k">
                </div>
                <div class="form-group col-md-6">
                  <label for="noticePeriod">Notice Period</label>
                  <select class="custom-select" id="noticePeriod">
                    <option value="">Select an option</option>
                    <option value="1 week">1 week</option>
                    <option value="2 weeks">2 weeks</option>
                    <option value="1 month">1 month</option>
                    <option value="2 months">2 months</option>
                    <option value="3+ months">3+ months</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="finalComments">Final Comments</label>
                <textarea class="form-control" id="finalComments" rows="3" placeholder="Summary and recommendation"></textarea>
              </div>
              <div class="text-right">
                <button type="submit" class="btn btn-primary">Save &amp; Review Confidence Score</button>
              </div>
            </form>
          </div>
        </div>

        <div class="card border-0 shadow-sm stage-screen" id="screen-confidence">
          <div class="card-body">
            <header class="stage-header">
              <h4 class="card-title mb-0">Confidence Score</h4>
              <p class="text-muted mb-3">Weighted view across all interview stages.</p>
              <div class="candidate-summary" id="candidateSummaryConfidence"></div>
            </header>
            <div id="confidenceContent" class="d-none">
              <div class="row align-items-center mb-4">
                <div class="col-md-6">
                  <div class="score-wrapper shadow-sm">
                    <canvas id="scoreChart" height="180"></canvas>
                    <div class="score-overlay">
                      <span class="score-value" id="finalScoreValue">0%</span>
                      <small id="recommendationTag" class="d-block text-uppercase mt-1">Not available</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <ul class="list-group" id="confidenceDetails"></ul>
                </div>
              </div>
              <div class="card bg-light border-0">
                <div class="card-body">
                  <h5 class="card-title">Stage Feedback Summary</h5>
                  <div id="feedbackSummary" class="feedback-summary"></div>
                </div>
              </div>
            </div>
            <div id="confidencePlaceholder" class="text-center py-5 text-muted">
              <i class="far fa-clipboard fa-3x mb-3"></i>
              <p>Complete all stages to calculate the final confidence score.</p>
            </div>
          </div>
        </div>

        <div class="card border-0 shadow-sm stage-screen" id="screen-weights">
          <div class="card-body">
            <h4 class="card-title mb-3">Configure Stage Weights</h4>
            <form id="weightsForm" class="weights-form">
              <div class="form-row">
                <div class="form-group col-md-4">
                  <label for="weightPsychometric">Psychometric (%)</label>
                  <input type="number" class="form-control" id="weightPsychometric" min="0" max="100" required>
                </div>
                <div class="form-group col-md-4">
                  <label for="weightTechnical">Technical (%)</label>
                  <input type="number" class="form-control" id="weightTechnical" min="0" max="100" required>
                </div>
                <div class="form-group col-md-4">
                  <label for="weightFinal">Final Interview (%)</label>
                  <input type="number" class="form-control" id="weightFinal" min="0" max="100" required>
                </div>
              </div>
              <p class="small text-muted">Total must equal 100%.</p>
              <div class="text-right">
                <button type="submit" class="btn btn-primary">Save Weights</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script src="js/jquery-3.5.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
